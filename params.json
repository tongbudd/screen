{
  "name": "Screen",
  "tagline": "整理屏幕截屏并保存相册",
  "body": "//全屏截图，包括window\r\n- (IBAction)fullScreenshots:(id)sender {\r\n    \r\n    UIWindow *screenWindow = [[UIApplication sharedApplication] keyWindow];\r\n    \r\n    UIGraphicsBeginImageContext(screenWindow.frame.size);//全屏截图，包括window\r\n    \r\n    [screenWindow.layer renderInContext:UIGraphicsGetCurrentContext()];\r\n    \r\n    UIImage *viewImage = UIGraphicsGetImageFromCurrentImageContext();\r\n    \r\n    UIGraphicsEndImageContext();\r\n    \r\n    UIImageWriteToSavedPhotosAlbum(viewImage, nil, nil, nil);\r\n    \r\n    [self AlertView];//保存后弹框提示\r\n}\r\n//currentView 当前的view\r\n- (IBAction)currentView:(id)sender {\r\n    UIGraphicsBeginImageContext(self.view.bounds.size); //currentView 当前的view\r\n    \r\n    [self.view.layer renderInContext:UIGraphicsGetCurrentContext()];\r\n    \r\n    UIImage *viewImage = UIGraphicsGetImageFromCurrentImageContext();\r\n    \r\n    UIGraphicsEndImageContext();\r\n    \r\n    UIImageWriteToSavedPhotosAlbum(viewImage, nil, nil, nil);  //保存到相册中\r\n    \r\n    [self AlertView]; //保存后弹框提示\r\n}\r\n//currentView 当前的view指定范围  截取自定义的大小\r\n- (IBAction)currentView_set:(id)sender {\r\n    \r\n    UIGraphicsBeginImageContext(CGSizeMake(320, 300)); //currentView 当前的view\r\n    \r\n    [self.view.layer renderInContext:UIGraphicsGetCurrentContext()];\r\n    \r\n     \r\n    UIImage *viewImage = UIGraphicsGetImageFromCurrentImageContext();\r\n    \r\n    \r\n    UIGraphicsEndImageContext();\r\n    \r\n    \r\n    UIImageWriteToSavedPhotosAlbum(viewImage, nil, nil, nil);  //保存到相册中\r\n    \r\n    [self AlertView];//保存后弹框提示\r\n}\r\n\r\n\r\n//截屏--包括window,处理后清晰\r\n- (IBAction)ceshi:(id)sender {\r\n    \r\n    UIWindow *screenWindow = [[UIApplication sharedApplication] keyWindow];\r\n    UIGraphicsBeginImageContextWithOptions(screenWindow.frame.size, NO, 0.0); // no ritina\r\n    \r\n    CGContextRef context = UIGraphicsGetCurrentContext();\r\n    \r\n    CGContextSaveGState(context);\r\n    for (UIWindow *window in [[UIApplication sharedApplication] windows]) {\r\n        \r\n        if(window == screenWindow)\r\n        {\r\n            break;\r\n        }else{\r\n            [window.layer renderInContext:context];\r\n        }\r\n    }\r\n    \r\n     if ([screenWindow respondsToSelector:@selector(drawViewHierarchyInRect:afterScreenUpdates:)]) {\r\n        [screenWindow drawViewHierarchyInRect:screenWindow.bounds afterScreenUpdates:YES];\r\n    } else {\r\n        [screenWindow.layer renderInContext:context];\r\n    }\r\n    CGContextRestoreGState(context);\r\n    UIImage *image = UIGraphicsGetImageFromCurrentImageContext();\r\n    screenWindow.layer.contents = nil;\r\n    UIGraphicsEndImageContext();\r\n    \r\n    float iOSVersion = [UIDevice currentDevice].systemVersion.floatValue;\r\n    if(iOSVersion < 8.0)\r\n    {\r\n        image = [self rotateUIInterfaceOrientationImage:image];\r\n    }\r\n    \r\n    UIGraphicsEndImageContext();\r\n    \r\n    \r\n    UIImageWriteToSavedPhotosAlbum(image, nil, nil, nil);  //保存到相册中\r\n    \r\n    [self AlertView];//保存后弹框提示\r\n}",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}